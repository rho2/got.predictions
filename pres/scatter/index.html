<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D3.js Demo</title>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="test.js"></script>
</head>

<body>

  <!-- first create a canvas -->
  <svg id="p1" height="400" width="750" style="background: #ddd;"></svg>

  <!-- draw a circle on it -->
  <svg id="p2" height="400" width="750" style="background: #ddd;"></svg>
  <script>
    var svg = d3.select('#p2');

    svg.append('circle')
      .attr("cx", 380)
      .attr("cy", 200)
      .attr("r", 50)
      .style("fill", "red");
  </script>

  <!-- draw all cirlces on it -->
  <svg id="p3" height="400" width="750" style="background: #ddd;"></svg>
  <script>
    var svg = d3.select('#p3');

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return d.len;
      })
      .attr('cy', function (d) {
        return d.view;
      })
      .attr('r', 5)
      .style("fill", "red");
  </script>

  <!-- scale it -->
  <svg id="p4" height="400" width="750" style="background: #ddd;"></svg>
  <script>
    var svg = d3.select('#p4');

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX, maxX]) // Define the x domain by the max and min x values
      .range([0, 750]);
    var yScale = d3.scaleLinear()
      .domain([minY, maxY]) // Define the y domain by the max and min y values
      .range([400, 0]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", "red");
  </script>

  <!-- add text to the data -->
  <svg id="p5" height="400" width="750" style="background: #ddd;"></svg>
  <script>
    var svg = d3.select('#p5');

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX, maxX]) // Define the x domain by the max and min x values
      .range([0, 750]);
    var yScale = d3.scaleLinear()
      .domain([minY, maxY]) // Define the y domain by the max and min y values
      .range([400, 0]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", "red");


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .attr('fill', 'red');
  </script>

  <!-- add text to the data -->
  <svg id="p6" height="400" width="750" style="background: #ddd;"></svg>
  <script>
    var margin = {
      top: 20,
      right: 80,
      bottom: 20,
      left: 20
    };
    var height = 400 - margin.top - margin.bottom;
    var width = 750 - margin.left - margin.right;

    var svg = d3.select('#p6').append('g') // This will append the group element
      .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');;

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX, maxX]) // Define the x domain by the max and min x values
      .range([0, width]);
    var yScale = d3.scaleLinear()
      .domain([minY, maxY]) // Define the y domain by the max and min y values
      .range([height, 0]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", "red");


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .attr('fill', 'red');
  </script>

  <!-- add text to the data -->
  <svg id="p7" height="400" width="750" style="background: #ddd;"></svg>

  <style type="text/css">
    .axis path,
    .axis line {
      fill: none;
      stroke: rgb(0, 0, 0);
      stroke-width: 1px;
      shape-rendering: crispEdges;
    }

    .tick text,
    text.title {
      font-family: helvetica;
      fill: black;
    }
  </style>

  <script>
    var margin = {
      top: 20,
      right: 80,
      bottom: 20,
      left: 20
    };
    var height = 400 - margin.top - margin.bottom;
    var width = 750 - margin.left - margin.right;

    var svg = d3.select('#p7').append('g') // This will append the group element
      .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');;

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX - 1, maxX + 1]) // Define the x domain by the max and min x values
      .range([0, width]);
    var yScale = d3.scaleLinear()
      .domain([minY - 1, maxY + 1]) // Define the y domain by the max and min y values
      .range([height, 0]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", "red");


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .attr('fill', 'red');

    var xAxis = d3.axisBottom() //create a generic axis function
      .scale(xScale) // pass in our scale
      .ticks(8); //This is the approximate number, d3 will make the numbers nice
    var yAxis = d3.axisLeft() //create a generic axis function
      .scale(yScale) // pass in our scale
      .ticks(5); //This is the approximate number, d3 will make the numbers nice

    svg.append('g') // use the group element for the x axis
      .attr('class', 'axis') // add a class for styling
      .attr('transform', 'translate(0, ' + height + ')') //translate in svg coordinates
      .call(xAxis); // Run the axis function on the newly created and appended group
    svg.append('g') // use the group element for the y axis
      .attr('class', 'axis') // same class again for styling
      .call(yAxis); // Run the axis function on the newly created and appended group
  </script>

  <!-- add text to the data -->
  <svg id="p8" height="400" width="750" style="background: #ddd;"></svg>

  <script>
    var margin = {
      top: 20,
      right: 80,
      bottom: 30,
      left: 40
    };
    var height = 400 - margin.top - margin.bottom;
    var width = 750 - margin.left - margin.right;

    var svg = d3.select('#p8').append('g') // This will append the group element
      .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');;

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX - 1, maxX + 1]) // Define the x domain by the max and min x values
      .range([0, width]);
    var yScale = d3.scaleLinear()
      .domain([minY - 1, maxY + 1]) // Define the y domain by the max and min y values
      .range([height, 0]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", "red");


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .attr('fill', 'red');

    var xAxis = d3.axisBottom() //create a generic axis function
      .scale(xScale) // pass in our scale
      .ticks(8); //This is the approximate number, d3 will make the numbers nice
    var yAxis = d3.axisLeft() //create a generic axis function
      .scale(yScale) // pass in our scale
      .ticks(5); //This is the approximate number, d3 will make the numbers nice

    svg.append('g') // use the group element for the x axis
      .attr('class', 'axis') // add a class for styling
      .attr('transform', 'translate(0, ' + height + ')') //translate in svg coordinates
      .call(xAxis); // Run the axis function on the newly created and appended group
    svg.append('g') // use the group element for the y axis
      .attr('class', 'axis') // same class again for styling
      .call(yAxis); // Run the axis function on the newly created and appended group


    svg.append('text') // Add title, simply append and define text 
      .attr('class', 'title') // attributes and position
      .attr('x', (width / 2))
      .attr('y', 0 - (margin.top / 2))
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '15px')
      .text('Game of Thrones episodes');
    svg.append('text') // Add x-axis label, similar to title
      .attr('class', 'label')
      .attr('x', (width / 2))
      .attr('y', height + margin.bottom / 2)
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Episode length');
    svg.append('text') // Add y-axis label, similar to above, but with transform
      .attr('class', 'label')
      .attr('transform', 'rotate(-90)')
      .attr('y', 0 - margin.left / 2)
      .attr('x', 0 - height / 2)
      .attr('dy', '-4')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Viewers in million');
  </script>

  <svg id="p9" height="400" width="750" style="background: #ddd;"></svg>

  <script>
    var margin = {
      top: 20,
      right: 80,
      bottom: 30,
      left: 40
    };
    var height = 400 - margin.top - margin.bottom;
    var width = 750 - margin.left - margin.right;

    var svg = d3.select('#p9').append('g') // This will append the group element
      .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');;

    var maxS = d3.max(data, function (d) {
      return d.season;
    });

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX - 1, maxX + 1]) // Define the x domain by the max and min x values
      .range([0, width]);
    var yScale = d3.scaleLinear()
      .domain([minY - 1, maxY + 1]) // Define the y domain by the max and min y values
      .range([height, 0]);

    var colorScale = d3.scaleLinear().domain([1, maxS])
      .interpolate(d3.interpolateHcl)
      .range([d3.rgb("#007AFF"), d3.rgb('#FFF500')]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", function (d) {
        return colorScale(d.season);
      });


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .style("fill", function (d) {
        return colorScale(d.season);
      });

    var xAxis = d3.axisBottom() //create a generic axis function
      .scale(xScale) // pass in our scale
      .ticks(8); //This is the approximate number, d3 will make the numbers nice
    var yAxis = d3.axisLeft() //create a generic axis function
      .scale(yScale) // pass in our scale
      .ticks(5); //This is the approximate number, d3 will make the numbers nice

    svg.append('g') // use the group element for the x axis
      .attr('class', 'axis') // add a class for styling
      .attr('transform', 'translate(0, ' + height + ')') //translate in svg coordinates
      .call(xAxis); // Run the axis function on the newly created and appended group
    svg.append('g') // use the group element for the y axis
      .attr('class', 'axis') // same class again for styling
      .call(yAxis); // Run the axis function on the newly created and appended group


    svg.append('text') // Add title, simply append and define text 
      .attr('class', 'title') // attributes and position
      .attr('x', (width / 2))
      .attr('y', 0 - (margin.top / 2))
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '15px')
      .text('Game of Thrones episodes');
    svg.append('text') // Add x-axis label, similar to title
      .attr('class', 'label')
      .attr('x', (width / 2))
      .attr('y', height + margin.bottom / 2)
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Episode length');
    svg.append('text') // Add y-axis label, similar to above, but with transform
      .attr('class', 'label')
      .attr('transform', 'rotate(-90)')
      .attr('y', 0 - margin.left / 2)
      .attr('x', 0 - height / 2)
      .attr('dy', '-4')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Viewers in million');
  </script>

  <svg id="p10" height="400" width="750" style="background: #ddd;"></svg>

  <script>
    var margin = {
      top: 20,
      right: 80,
      bottom: 30,
      left: 40
    };
    var height = 400 - margin.top - margin.bottom;
    var width = 750 - margin.left - margin.right;

    var svg = d3.select('#p10').append('g') // This will append the group element
      .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');;

    var maxS = d3.max(data, function (d) {
      return d.season;
    });

    var maxX = d3.max(data, function (d) {
      return d.len;
    });
    var minX = d3.min(data, function (d) {
      return d.len;
    });
    var maxY = d3.max(data, function (d) {
      return d.view;
    });
    var minY = d3.min(data, function (d) {
      return d.view;
    });

    var xScale = d3.scaleLinear()
      .domain([minX - 1, maxX + 1]) // Define the x domain by the max and min x values
      .range([0, width]);
    var yScale = d3.scaleLinear()
      .domain([minY - 1, maxY + 1]) // Define the y domain by the max and min y values
      .range([height, 0]);

    var colorScale = d3.scaleLinear().domain([1, maxS])
      .interpolate(d3.interpolateHcl)
      .range([d3.rgb("#007AFF"), d3.rgb('#FFF500')]);

    var dataPoints = svg
      .selectAll('circle') // selects all circles (whether they exist or not)
      .data(data) // joins the data to the current selection (all circles)
      .enter() // joins the data to placeholders for the circles
      .append('circle');

    var dataAttributes = dataPoints
      .attr('cx', function (d) {
        return xScale(d.len);
      })
      .attr('cy', function (d) {
        return yScale(d.view);
      })
      .attr('r', 5)
      .style("fill", function (d) {
        return colorScale(d.season);
      });


    var text = svg
      .selectAll('text')
      .data(data)
      .enter()
      .append('text');
    var dataLabels = text
      .attr('x', function (d) {
        return xScale(d.len) + 8;
      }) // Add some x offset
      .attr('y', function (d) {
        return yScale(d.view) + 2.5;
      }) // Add some y offset
      .text(function (d) {
        return d.title;
      }) // The text string
      .attr('font-family', 'helvetica')
      .attr('font-size', '5px')
      .style("fill", function (d) {
        return colorScale(d.season);
      });

    var xAxis = d3.axisBottom() //create a generic axis function
      .scale(xScale) // pass in our scale
      .ticks(8); //This is the approximate number, d3 will make the numbers nice
    var yAxis = d3.axisLeft() //create a generic axis function
      .scale(yScale) // pass in our scale
      .ticks(5); //This is the approximate number, d3 will make the numbers nice

    svg.append('g') // use the group element for the x axis
      .attr('class', 'axis') // add a class for styling
      .attr('transform', 'translate(0, ' + height + ')') //translate in svg coordinates
      .call(xAxis); // Run the axis function on the newly created and appended group
    svg.append('g') // use the group element for the y axis
      .attr('class', 'axis') // same class again for styling
      .call(yAxis); // Run the axis function on the newly created and appended group


    svg.append('text') // Add title, simply append and define text 
      .attr('class', 'title') // attributes and position
      .attr('x', (width / 2))
      .attr('y', 0 - (margin.top / 2))
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '15px')
      .text('Game of Thrones episodes');
    svg.append('text') // Add x-axis label, similar to title
      .attr('class', 'label')
      .attr('x', (width / 2))
      .attr('y', height + margin.bottom / 2)
      .attr('dy', '10')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Episode length');
    svg.append('text') // Add y-axis label, similar to above, but with transform
      .attr('class', 'label')
      .attr('transform', 'rotate(-90)')
      .attr('y', 0 - margin.left / 2)
      .attr('x', 0 - height / 2)
      .attr('dy', '-4')
      .attr('text-anchor', 'middle')
      .style('font-size', '8px')
      .text('Viewers in million');

    for (let i = 0; i < maxS; i++) {
      svg.append('rect')
        .attr("x", width + 10)
        .attr("y", height - (i + 1) * 20)
        .attr("width", 20)
        .attr("height", 20)
        .style("fill", colorScale(i + 1));

      svg.append('text')
        .attr('x', width + 30)
        .attr('y', height - (i) * 20 - 7.5)
        .style('font-size', '8px')
        .text(`Season ${i+1} `)
        .style("fill", colorScale(i + 1));
    }
  </script>
</body>